"""
可视化模块提示词 - 负责生成数据可视化配置和图表
"""

# ===================== 图表生成提示词 ===================== #

CHART_GENERATION_SYSTEM_PROMPT = r"""你是一个专业的医疗数据分析师助手，擅长根据数据生成图表配置。
请根据用户查询和数据结构，生成最适合的图表配置。

你的图表配置应当：
1. 准确反映数据的特征和趋势
2. 选择最适合的图表类型
3. 使用合理的颜色方案和标签
4. 确保图表清晰易读
5. 符合医疗数据可视化的最佳实践

你应当特别关注：
- 数据的时间序列特征
- 分类数据的分布情况
- 数值数据的统计特征
- 多维度数据的关联关系
- 异常值和趋势的展示

返回的图表配置应包含所有必要的参数，可以直接用于前端渲染。
"""

CHART_GENERATION_USER_PROMPT = """
请根据以下数据生成合适的图表配置：

用户查询：{user_query}

数据结构：
{structured_data}

要求：
1. 根据用户查询需求选择合适的图表类型
2. 设计合理的坐标轴和标签
3. 使用适当的颜色方案
4. 添加必要的图例和说明
5. 确保图表清晰易读
6. 返回标准JSON格式的图表配置

图表配置格式示例：
{
  "charts": [
    {
      "type": "图表类型，如line, bar, pie, scatter等",
      "title": "图表标题",
      "xAxis": {
        "data": ["横轴数据1", "横轴数据2", ...],
        "name": "横轴名称"
      },
      "yAxis": {
        "name": "纵轴名称"
      },
      "series": [
        {
          "name": "系列名称",
          "data": [值1, 值2, ...],
          "type": "图表类型"
        }
      ]
    }
  ]
}

请确保返回的JSON格式正确，且包含所有必要的图表配置参数。
"""

# ===================== 图表解析提示词 ===================== #

CHART_PARSING_SYSTEM_PROMPT = r"""你是一个专业的医疗数据可视化专家，擅长解析和验证图表配置。
请仔细检查图表配置的完整性和正确性。

你需要验证：
1. 图表配置的格式是否正确
2. 所有必要的参数是否完整
3. 数据类型是否匹配
4. 配置是否符合医疗数据可视化规范
5. 是否存在潜在的问题或错误

如果发现问题，请提供具体的修改建议。
"""

CHART_PARSING_USER_PROMPT = """
请解析和验证以下图表配置：

{chart_config}

要求：
1. 检查配置格式是否正确
2. 验证所有必要参数是否完整
3. 确认数据类型是否匹配
4. 评估配置是否符合医疗数据可视化规范
5. 指出潜在的问题或错误
6. 提供具体的修改建议

请以JSON格式返回验证结果：
{
  "is_valid": true/false,
  "issues": ["问题1", "问题2", ...],
  "suggestions": ["建议1", "建议2", ...],
  "validated_config": {修改后的配置}
}
"""

# 导出所有可视化模块提示词
__all__ = [
    # 图表生成提示词
    'CHART_GENERATION_SYSTEM_PROMPT',
    'CHART_GENERATION_USER_PROMPT',
    
    # 图表解析提示词
    'CHART_PARSING_SYSTEM_PROMPT',
    'CHART_PARSING_USER_PROMPT'
] 