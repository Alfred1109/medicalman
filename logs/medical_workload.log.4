2025-03-25 09:48:28,814 INFO: Locating template 'analysis/department-analysis.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/analysis/department-analysis.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 09:48:30,431 INFO: Locating template 'analysis/patient-analysis.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/analysis/patient-analysis.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 09:48:31,697 INFO: Locating template 'analysis/financial-analysis.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/analysis/financial-analysis.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 09:48:33,615 INFO: Locating template 'analysis/doctor-performance.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/analysis/doctor-performance.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 09:48:34,934 INFO: Locating template 'analysis/drg-analysis.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/analysis/drg-analysis.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 09:48:40,113 INFO: Locating template 'settings/help.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/settings/help.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 10:01:00,691 INFO: 医疗工作量系统启动 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:117]
2025-03-25 10:01:00,692 INFO: 跳过数据库初始化 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:57]
2025-03-25 10:01:05,481 INFO: 医疗工作量系统启动 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:117]
2025-03-25 10:01:05,481 INFO: 跳过数据库初始化 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:57]
2025-03-25 10:01:06,626 INFO: Locating template 'dashboard/dashboard.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/dashboard/dashboard.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 10:01:06,639 INFO: Locating template 'base.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/base.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 10:03:09,546 INFO: 医疗工作量系统启动 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:117]
2025-03-25 10:03:09,547 INFO: 跳过数据库初始化 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:57]
2025-03-25 10:03:13,931 INFO: 医疗工作量系统启动 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:117]
2025-03-25 10:03:13,931 INFO: 跳过数据库初始化 [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/__init__.py:57]
2025-03-25 10:03:50,583 INFO: Locating template 'dashboard/dashboard.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/dashboard/dashboard.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 10:03:50,596 INFO: Locating template 'base.html':
    1: trying loader of application 'app'
       class: jinja2.loaders.FileSystemLoader
       encoding: 'utf-8'
       followlinks: False
       searchpath:
         - /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/../templates
       -> found ('/Users/lixingdong/项目合集-0319/GIT智能体/medicalman/templates/base.html') [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/.venv/lib/python3.12/site-packages/flask/debughelpers.py:178]
2025-03-25 10:03:56,377 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "数据库连接错误: no such table: visits", "error_code": 1001, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,378 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "SQL执行错误: no such table: visits", "error_code": 1002, "error_type": "database_error", "details": {"query": "\n        SELECT COUNT(*) as total \n        FROM visits \n        WHERE visit_date BETWEEN '2025-03-25' AND '2025-03-26'\n        "}} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,379 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "数据库连接错误: no such table: visits", "error_code": 1001, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,379 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "SQL执行错误: no such table: visits", "error_code": 1002, "error_type": "database_error", "details": {"query": "\n        SELECT date as date, COUNT(*) as count\n        FROM visits\n        WHERE visit_type='门诊' AND date BETWEEN '2025-03-25' AND '2025-03-26'\n        GROUP BY date\n        ORDER BY date\n        "}} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,380 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "查询转DataFrame失败: no such table: visits", "error_code": 1002, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,386 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "数据库连接错误: no such table: revenue", "error_code": 1001, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,387 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "SQL执行错误: no such table: revenue", "error_code": 1002, "error_type": "database_error", "details": {"query": "\n        SELECT revenue_type, SUM(amount) as total\n        FROM revenue\n        WHERE date BETWEEN '2025-03-25' AND '2025-03-26'\n        GROUP BY revenue_type\n        ORDER BY total DESC\n        "}} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,387 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "查询转DataFrame失败: no such table: revenue", "error_code": 1002, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
2025-03-25 10:03:56,388 ERROR: 系统错误: {"timestamp": "2025-03-25 10:03:56", "message": "数据库连接错误: no such table: visits", "error_code": 1001, "error_type": "database_error"} [in /Users/lixingdong/项目合集-0319/GIT智能体/medicalman/app/utils/logger.py:119]
